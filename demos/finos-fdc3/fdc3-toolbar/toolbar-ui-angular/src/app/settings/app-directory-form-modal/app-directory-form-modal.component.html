<!-- Copyright Â© 2014-2019 Tick42 OOD
SPDX-License-Identifier: Apache-2.0
Licensed under the Apache License, Version 2.0 (the "License");
you may not use this file except in compliance with the License.
You may obtain a copy of the License at http://www.apache.org/licenses/LICENSE-2.0
Unless required by applicable law or agreed to in writing, software
distributed under the License is distributed on an "AS IS" BASIS,
WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
See the License for the specific language governing permissions and
limitations under the License. -->

<app-modal-dialog #newAppDirectoryModalDialog [title]="newAppDirectoryModalDialogTitle">
  <div class="modal-body">
    <form name="app-directory">
      <fieldset>
        <div class="form-group has-danger">
          <label class="form-control-label" for="appDirectoryName">Name</label>
          <button class="btn btn-link float-right p-0 mr-1 info-tooltip" placement="left"
            [ngbTooltip]="'Internal name for the Application Directory, it is only used in the Toolbar settings and log messages.'">
            <i class="fa fa-info" aria-hidden="true"></i>
          </button>
          <input type="text" class="form-control" [class.is-invalid]="!isAppDirectoryNameValid" id="appDirectoryName"
                 placeholder="App Directory Name" name="appDirectoryName" [(ngModel)]="name">
          <div class="invalid-feedback">Name is required</div>
        </div>
        <div class="form-group has-danger">
          <label class="form-control-label" for="apiURL">API URL</label>
          <button class="btn btn-link float-right p-0 mr-1" placement="left"
                  [ngbTooltip]="'The URI for Application Directory services end point, as defined in https://fdc3.finos.org/appd-spec'">
            <i class="fa fa-info" aria-hidden="true"></i>
          </button>
          <input type="text" class="form-control" [class.is-invalid]="!isApiURLValid" id="apiURL" placeholder="API URL"
                 name="apiURL" [(ngModel)]="apiURL">
          <div class="invalid-feedback">{{apiURLInvalidFeedback}}</div>
        </div>
        <div class="form-group has-danger">
          <label class="form-control-label" for="authUrl">Auth URL</label>
          <button class="btn btn-link float-right p-0 mr-1" placement="left"
                  [ngbTooltip]="'Optional. If the AppD services requires a security token, this is the URI to authenticate the e-mail and password parameters provided.'">
            <i class="fa fa-info" aria-hidden="true"></i>
          </button>
          <input type="text" class="form-control" id="authUrl" [class.is-invalid]="!isAuthURLValid"
                 placeholder="Auth URL" name="authUrl" [(ngModel)]="authURL">
          <div class="invalid-feedback">Auth URL is not valid</div>
        </div>
        <div class="form-group has-danger">
          <label class="form-control-label" for="email">Email</label>
          <button class="btn btn-link float-right p-0 mr-1" placement="left"
                  [ngbTooltip]="'Optional. The e-mail address aka user id that is passed to the user authentication service.'">
            <i class="fa fa-info" aria-hidden="true"></i>
          </button>
          <input type="email" class="form-control" id="email" [class.is-invalid]="!isEmailValid" placeholder="Email"
                 name="email" [(ngModel)]="email">
          <div class="invalid-feedback">Email is not valid</div>
        </div>
        <div class="form-group has-danger">
          <label class="form-control-label" for="password">Password</label>
          <button class="btn btn-link float-right p-0 mr-1" placement="left"
                  [ngbTooltip]="'Optional. The password passed to the user authentication service.'">
            <i class="fa fa-info" aria-hidden="true"></i>
          </button>
          <input type="password" class="form-control" id="password"[class.is-invalid]="!isPasswordSet"
                 placeholder="Password" name="password" [(ngModel)]="password">
          <div class="invalid-feedback">Password is required</div>
        </div>
      </fieldset>
    </form>
  </div>
  <div class="modal-footer">
    <button type="button" class="btn btn-primary" [disabled]="!enableCreateBtn" (click)="createAppDirectory()"
            *ngIf="isAddAppDirectoryModalOpened">
      Create
    </button>
    <button type="button" class="btn btn-primary" [disabled]="!enableEditBtn" (click)="editAppDirectory()"
            *ngIf="!isAddAppDirectoryModalOpened">
      Edit
    </button>
  </div>
</app-modal-dialog>
